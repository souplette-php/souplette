{#
    @see https://html.spec.whatwg.org/multipage/parsing.html#cdata-section-bracket-state
#}
{% import 'tokenizer/_macros.php.twig' as h -%}

if ($cc === ']') {
    // Switch to the CDATA section end state.
    {{ h.advance_to('CDATA_SECTION_END') }}
} else {
    // Emit a U+005D RIGHT SQUARE BRACKET character token.
    yield new Character(']');
    // Reconsume in the CDATA section state.
    {{ h.reconsume_in('CDATA_SECTION') }}
}
